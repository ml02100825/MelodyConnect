server.port=8080
spring.datasource.url=jdbc:mysql://${DB_HOST:${MYSQL_HOST:db}}:${DB_PORT:${MYSQL_PORT:3306}}/${DB_NAME:${MYSQL_DATABASE:MelodyConnectdb}}?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&characterEncoding=utf8
spring.datasource.username=${DB_USER:${MYSQL_USER:appuser}}
spring.datasource.password=${DB_PASSWORD:${MYSQL_PASSWORD:apppass}}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.sql.init.mode=never

# JPA/Hibernate設定
spring.jpa.hibernate.ddl-auto=update
spring.jpa.generate-ddl=true
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.open-in-view=false

# Hibernateログ
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ===========================================
# External API Configuration
# ===========================================

# Claude API (Anthropic) - 問題生成用
claude.api.key=${CLAUDE_API_KEY:}
claude.api.model=claude-3-5-sonnet-20241022
claude.api.max-tokens=4096

# Wordnik API - 単語情報取得用
wordnik.api.key=${WORDNIK_API_KEY:}

# Genius API - 歌詞取得用
genius.api.key=${GENIUS_API_KEY:}

# Apple Music API - 楽曲検索用
apple.music.api.key=${APPLE_MUSIC_API_KEY:}
apple.music.storefront=us

# Google Cloud TTS - 音声生成用
google.cloud.api.key=${GOOGLE_CLOUD_API_KEY:}
tts.audio.output.directory=./audio
tts.audio.base.url=${TTS_AUDIO_BASE_URL:http://localhost:8080/audio}

# ===========================================
# Application Settings
# ===========================================

# Question generation defaults
question.default.fill-in-blank-count=10
question.default.listening-count=10

# Logging
logging.level.com.example.api=DEBUG
logging.level.org.springframework.web=INFO
